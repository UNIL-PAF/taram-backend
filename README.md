# Taram

Taram is a web-based proteomics analysis pipeline developed at the [Protein Analysis Facility UNIL](https://wp.unil.ch/paf/).

Currently it supports results generated by [MaxQuant](https://www.maxquant.org/) and [Spectronaut](https://biognosys.com/software/spectronaut/).

It consists of 3 different parts:
- [Taram backend](https://github.com/UNIL-PAF/taram-backend): the API written in Kotlin and R.
- [Taram user-interface](https://github.com/UNIL-PAF/taram-ui): the web-interface, based on [ReactJS](https://react.dev/).
- [Taram SVG](https://github.com/UNIL-PAF/taram-svg): a simple NodeJS API which is used to render the plots for the PDF exports.

## Taram backend

The backend of Taram is mainly written in [Kotlin](https://kotlinlang.org/) using [SpringBoot](https://spring.io/projects/spring-boot).

Statistical functions are based on Java ([commons-math3](https://commons.apache.org/proper/commons-math/)) or [R](https://www.r-project.org/) ([p.adjust](https://stat.ethz.ch/R-manual/R-devel/library/stats/html/p.adjust.html), [prcomp](https://stat.ethz.ch/R-manual/R-devel/library/stats/html/prcomp.html), [umap](https://cran.r-project.org/web/packages/umap/index.html)).

### Usage

#### Prerequisites
- Java (>= 17.0.7) and Maven.
- R (>= 4.3.2) with umap library.
- MySQL (>= 14.14)

#### Local options

Adapt ```resources/application.properties``` or add a local version ```resources/application-local.properties``` instead:

- ```spring.datasource```: set your local MySQL connection URL, user and password.
- ```result.path```: set the path were your MaxQuant and Spectronaut results are copied (we use a mounted NAS).
- ````output.path````: the path where your results will be stored (mainly tables and plots).
- ````echarts.server.url````: the URL pointing to your installation of [Taram svg](https://github.com/UNIL-PAF/taram-svg)

#### Run a local instance

```./mvnw spring-boot:run```


#### Create a production server

Create the server:
```mvn clean install```

Start the server:
`````java -jar ./target/XXX.jar -spring.config.location=file://./src/main/resources/application-local.properties`````

